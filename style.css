:root {
    --bg-gradient: linear-gradient(180deg, #FF9A9E 0%, #FECFEF 99%, #FECFEF 100%);
    --card-bg: #ffffff;
    --text-color: #2d3436;
    --accent-color: #ff6b6b;
    --font-main: 'Poppins', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

body {
    font-family: var(--font-main);
    background-image: var(--bg-gradient);
    background-attachment: fixed; /* Le fond reste fixe au scroll */
    color: var(--text-color);
    min-height: 100vh;
    overflow-x: hidden;
}

#app {
    max-width: 480px;
    margin: 0 auto;
    padding: 20px;
    min-height: 100vh;
    position: relative;
    padding-bottom: 100px; /* Espace pour le footer fixe */
}

/* --- LOGO --- */
.logo-area { text-align: center; margin: 40px 0 30px 0; color: white; }
.app-title { font-weight: 800; font-size: 3em; letter-spacing: -2px; line-height: 1; text-shadow: 0 4px 10px rgba(0,0,0,0.1); }
.logo-area p { font-weight: 400; letter-spacing: 2px; text-transform: uppercase; font-size: 0.8em; opacity: 0.9; }

/* --- ECRANS --- */
.screen { display: none; animation: fadeIn 0.4s ease; }
.screen.active { display: block; } /* Block au lieu de flex pour g√©rer le grid */

/* --- INPUT --- */
.input-container { position: relative; margin-bottom: 30px; }
.input-container input {
    width: 100%; padding: 18px 60px 18px 25px;
    border: none; border-radius: 25px; font-size: 1.1em; outline: none;
    font-family: var(--font-main); box-shadow: 0 5px 20px rgba(0,0,0,0.05);
}
#add-player-btn {
    position: absolute; right: 8px; top: 50%; transform: translateY(-50%);
    width: 44px; height: 44px; border: none; border-radius: 50%;
    background: var(--accent-color); color: white; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: transform 0.2s;
}
#add-player-btn:active { transform: translateY(-50%) scale(0.9); }

/* --- JOUEURS (CHIPS) --- */
.players-grid { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
.player-chip {
    background: white; padding: 10px 18px; border-radius: 50px;
    font-weight: 600; color: #444; font-size: 0.95em;
    display: flex; align-items: center; gap: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    animation: popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.player-chip .remove {
    width: 20px; height: 20px; background: #f0f0f0; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; cursor: pointer; color: #aaa;
}

/* --- FOOTER FIXE --- */
.footer-action {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: rgba(255,255,255,0.95); backdrop-filter: blur(10px);
    padding: 20px; text-align: center;
    border-radius: 25px 25px 0 0;
    box-shadow: 0 -10px 30px rgba(0,0,0,0.05);
    z-index: 100; max-width: 480px; margin: 0 auto; /* Centrer sur desktop */
}
#player-count-label { font-size: 0.8em; color: #888; margin-bottom: 10px; font-weight: 600; text-transform: uppercase; }
.main-btn {
    width: 100%; padding: 18px; border: none; border-radius: 18px;
    background: var(--text-color); color: white;
    font-size: 1.1em; font-weight: 600; font-family: var(--font-main);
    cursor: pointer; transition: opacity 0.2s;
}
.main-btn:disabled { opacity: 0.3; cursor: not-allowed; }

/* --- SELECTION JEU --- */
.header-nav { display: flex; align-items: center; margin-bottom: 20px; }
.back-btn, .close-game-btn { background: none; border: none; cursor: pointer; color: white; padding: 10px; }
.header-nav h2 { color: white; margin-left: 10px; font-size: 1.5em; }
.games-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.game-card {
    background: white; padding: 20px; border-radius: 20px;
    text-align: center; cursor: pointer; transition: transform 0.2s;
    box-shadow: 0 10px 20px rgba(0,0,0,0.05); height: 160px;
    display: flex; align-items: center; justify-content: center;
}
.game-card:active { transform: scale(0.98); }
.game-card.disabled { opacity: 0.6; filter: grayscale(1); }
.icon { font-size: 3em; margin-bottom: 10px; display: block; }
.game-card h3 { margin-bottom: 5px; color: var(--text-color); }
.game-card p { font-size: 0.8em; color: #888; }

/* --- GAME CONTAINER --- */
#screen-game { position: relative; height: 100vh; display: flex; flex-direction: column; }
.close-game-btn {
    position: absolute; top: 10px; right: 10px;
    font-size: 2em; z-index: 50; color: rgba(255,255,255,0.8);
}
#game-container {
    flex-grow: 1; background: white; margin-top: 60px;
    border-radius: 25px 25px 0 0; padding: 30px;
    box-shadow: 0 -10px 40px rgba(0,0,0,0.1);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    text-align: center;
}

/* Animations */
@keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.hidden { display: none !important; }